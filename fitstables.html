<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>nbarbey/fitsutils @ GitHub</title>
  <link rel="stylesheet" type="text/css" href="fitsutils.css" />
</head>

<body>
  <a href="http://github.com/nbarbey/fitsutils">
    <img style="position: absolute; top: 0; right: 0; border: 0;"
	 src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
	 alt="Fork me on GitHub" />
  </a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/nbarbey/fitsutils/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/nbarbey/fitsutils/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/nbarbey/fitsutils">fitsutils</a>
      <span class="small">by <a href="http://github.com/nbarbey">nbarbey</a></span></h1>

    <div class="description">
      A set of small command-line tools for FITS files
    </div>

<h2> fitstables </h2>

<h3> Why fitstables </h3>

fitstables aims at rewriting the IDL mrdfits and mwrfits functions.
It can read FITS files written by the IDL mwrfits function as well as
writing such files. However, for now, only the most basic usages is
implemented.

<h3> A simple exemple </h3>

Get a simple fits file on the internet containing a binary table.

<pre>
wget http://fits.gsfc.nasa.gov/samples/IUElwp25637mxlo.fits
</pre>

Now, you can launch your favorite python command line interface
(IPython for instance). Inside, python type:

<pre>
from fitsutils import *
d = mrdfits("IUElwp25637mxlo.fits")
print d.keys()
</pre>

You should get something like this :
<pre>
['DELTAW', 'QUALITY', 'FLUX', 'NPOINTS', 'BACKGROUND', 'APERTURE', 'WAVELENGTH', 'NET', 'SIGMA']

</pre>

This is the list of variables contained in the binary table.  Each
variable is a Numpy ndarray. So you can access your data as usual in
Numpy:

<pre>
# get the shape of the FLUX array:
print d['FLUX'].shape
# get the first 10 FLUX values:
print d['FLUX'][:10]
# etc ...
</pre>

<h3> Important note </h3>

<p>
Note that dimension orders are different in IDL and Python. Indeed,
IDL has column-major ordering (Fortran ordering) while Python has
row-major ordering (C ordering) of dimensions. 
</p>

<p>
For instance, writing a FITS in IDL and reading it in Python.
</p>

In IDL, type:
<pre>
IDL> data={data:indgen(4,5)}
IDL> print, size(data.data, /dim)
;           4           5
IDL> print, data.data[3, 2]
;11
IDL> print, data.data[2, 3]
;14

IDL> print, data.data
;       0       1       2       3
;       4       5       6       7
;       8       9      10      11
;      12      13      14      15
;      16      17      18      19

IDL> mwrfits, data, 'stamp.fits'
</pre>

Now, in Python:

<pre>
In [1]: from fitsutils.fitstables import *

In [2]: data = mrdfits('stamp.fits')

In [3]: data
Out[3]: 
{'DATA': array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15],
       [16, 17, 18, 19]], dtype=int16)}

In [4]: data['DATA'][2, 3]
Out[4]: 11
</pre>

<h3> Partial installation </h3>


If you do not want to install fitsutils and still want to use
fitstables, you can simply put
the <a href="https://github.com/nbarbey/fitsutils/raw/master/fitsutils/fitstables.py">
fitstables file </a> in your path. Do not forget to make it
executable.

<pre>
wget https://github.com/nbarbey/fitsutils/raw/master/fitsutils/fitstables.py
chmod +x fitstables.py
</pre>

    <div class="footer">
      get the source code on GitHub :
      <a href="http://github.com/nbarbey/fitsutils">nbarbey/fitsutils</a>
    </div>

  </div>

</body>
</html>
